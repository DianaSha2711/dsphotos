<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D|S Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Импорт шрифта Snell Roundhand */
        @import url('https://fonts.cdnfonts.com/css/snell-roundhand');
        
        /* Контейнер для хэдера */
        .header-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.85);
            padding: 15px 30px;
            z-index: 200;
            display: flex;
            justify-content: center;
            align-items: center;
            border-bottom: 1px solid rgba(139, 0, 0, 0.15);
            backdrop-filter: blur(10px);
        }

        /* Контейнер для логотипа по центру */
        .logo-container-center {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        /* Логотип D|S - большие буквы БЕЗ КУРСИВА с тем же шрифтом, что и "Истории" */
        .logo-bright-large {
            font-family: 'MedievalSharp', cursive, 'Snell Roundhand', cursive;
            font-size: 2.5rem;
            font-weight: 400;
            color: rgba(128, 0, 0, 0.9);
            letter-spacing: 2px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-transform: uppercase;
            position: relative;
            z-index: 201;
            font-style: normal !important;
        }

        /* Подпись photographer под логотипом */
        .logo-photographer-center {
            font-family: 'Snell Roundhand', cursive, 'MedievalSharp', cursive;
            font-size: 1.1rem;
            font-weight: 400;
            color: rgba(128, 0, 0, 0.8);
            letter-spacing: 1px;
            font-style: italic;
            text-transform: lowercase;
            position: relative;
            z-index: 201;
        }

        /* Расстояние между хэдером и контентом */
        .header-spacing {
            height: 120px;
            width: 100%;
        }

        /* Стиль для колонки направлений без рамок */
        .directions-list-column {
            margin: 10px 0 0 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .direction-item-simple {
            font-size: 1rem;
            color: rgba(0, 0, 0, 0.8);
            line-height: 1.8;
            font-weight: 300;
            margin: 3px 0;
            padding: 0;
        }

        /* Новая иконка увеличения как изображение */
        .zoom-icon-image {
            width: 50px;
            height: 50px;
            filter: invert(100%) brightness(100%) contrast(100%);
            opacity: 0.9;
            transition: transform 0.3s ease, opacity 0.3s ease;
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 50%;
            padding: 10px;
            cursor: pointer;
        }

        .gallery-item:hover .zoom-icon-image {
            transform: scale(1.1);
            opacity: 1;
        }

        /* Стили для переопределения существующих стилей zoom-icon */
        .zoom-icon {
            display: none !important;
        }

        /* Стили для социальных иконок в футере */
        .social-footer {
            margin-top: 15px;
            width: 100%;
        }

        .social-icons-footer {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 10px;
        }

        .social-icon-footer {
            font-family: 'MedievalSharp', cursive;
            font-size: 0.9rem;
            color: rgba(0, 0, 0, 0.7);
            text-decoration: none;
            padding: 6px 12px;
            border: 1px solid rgba(128, 0, 0, 0.2);
            border-radius: 4px;
            background-color: rgba(255, 255, 255, 0.5);
            transition: all 0.3s ease;
        }

        .social-icon-footer:hover {
            background-color: rgba(128, 0, 0, 0.1);
            color: rgba(128, 0, 0, 0.9);
            transform: translateY(-2px);
        }

        /* Стили для блока "Студийные фото" с полупрозрачной рамкой */
        .gallery-section {
            border: 1px solid rgba(139, 0, 0, 0.2);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 40px;
            background-color: rgba(255, 255, 255, 0.7);
            box-shadow: 0 4px 15px rgba(139, 0, 0, 0.1);
        }

        /* Центрирование заголовка "Студийные фото" */
        .center-title {
            text-align: center;
            margin-bottom: 25px;
            letter-spacing: 1px;
        }

        /* Специальный стиль для заголовка "Студийные фото" */
        .studio-title {
            font-family: sans-serif;
            font-weight: 300;
            color: rgba(0, 0, 0, 0.9);
            font-size: 1.6rem;
            text-transform: capitalize;
            letter-spacing: 1px;
        }

        /* Стили для всех остальных заголовков h2 (Истории, О себе) */
        h2 {
            font-family: 'MedievalSharp', cursive;
            font-size: 2.2rem;
            color: rgba(128, 0, 0, 0.9);
            text-align: left;
            margin-bottom: 20px;
            letter-spacing: 1px;
        }

        /* Стили для текста в блоке "О себе" */
        .about-text > div {
            font-family: sans-serif;
            font-weight: 300;
            color: rgba(0, 0, 0, 0.8);
            line-height: 1.6;
            margin-bottom: 15px;
        }

        /* СТИЛИ ДЛЯ УВЕЛИЧЕНИЯ ФОТО */
        .gallery-item {
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .zoom-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            cursor: pointer;
        }

        .gallery-item:hover .zoom-overlay {
            opacity: 1;
        }

        /* Стили для модального окна */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            background-color: transparent;
            overflow: hidden;
        }

        .modal-image {
            max-width: 100%;
            max-height: 85vh;
            display: block;
            margin: 0 auto;
            border-radius: 4px;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.5);
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 35px;
            color: white;
            cursor: pointer;
            z-index: 10001;
            background-color: rgba(0, 0, 0, 0.5);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s ease;
            border: none;
            font-family: Arial, sans-serif;
        }

        .close-modal:hover {
            background-color: rgba(0, 0, 0, 0.8);
            transform: scale(1.1);
        }

        .modal-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            font-size: 28px;
            cursor: pointer;
            border-radius: 50%;
            width: 55px;
            height: 55px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s ease;
            z-index: 10001;
        }

        .modal-prev {
            left: 25px;
        }

        .modal-next {
            right: 25px;
        }

        .modal-nav:hover {
            background-color: rgba(0, 0, 0, 0.8);
            transform: translateY(-50%) scale(1.1);
        }

        .image-counter {
            position: absolute;
            bottom: 25px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            background-color: rgba(0, 0, 0, 0.5);
            padding: 8px 18px;
            border-radius: 20px;
            font-size: 16px;
            font-family: Arial, sans-serif;
        }

        /* Адаптивность */
        @media (max-width: 768px) {
            .header-container {
                padding: 10px 20px;
            }
            
            .logo-bright-large {
                font-size: 2.2rem;
                height: 45px;
            }
            
            .logo-photographer-center {
                font-size: 1rem;
            }
            
            .header-spacing {
                height: 100px;
            }
            
            .zoom-icon-image {
                width: 40px;
                height: 40px;
                padding: 8px;
            }
            
            .social-icons-footer {
                gap: 15px;
            }
            
            .social-icon-footer {
                font-size: 0.85rem;
                padding: 5px 10px;
            }
            
            .center-title, h2 {
                font-size: 1.8rem;
            }
            
            .studio-title {
                font-size: 1.4rem;
            }
            
            .gallery-section {
                padding: 20px;
            }
            
            .modal-nav {
                width: 45px;
                height: 45px;
                font-size: 22px;
            }
            
            .close-modal {
                font-size: 30px;
                width: 40px;
                height: 40px;
            }
        }

        @media (max-width: 600px) {
            .logo-bright-large {
                font-size: 2rem;
                height: 40px;
            }
            
            .logo-photographer-center {
                font-size: 0.9rem;
            }
            
            .header-spacing {
                height: 90px;
            }
            
            .social-icons-footer {
                gap: 10px;
            }
            
            .social-icon-footer {
                font-size: 0.8rem;
                padding: 4px 8px;
            }
            
            .center-title, h2 {
                font-size: 1.6rem;
            }
            
            .studio-title {
                font-size: 1.2rem;
            }
            
            .gallery-section {
                padding: 15px;
            }
            
            .modal-content {
                max-width: 95%;
            }
            
            .modal-nav {
                width: 40px;
                height: 40px;
                font-size: 20px;
            }
            
            .close-modal {
                font-size: 25px;
                width: 35px;
                height: 35px;
            }
        }

        @media (max-width: 480px) {
            .header-container {
                padding: 10px 15px;
            }
            
            .logo-container-center {
                gap: 3px;
            }
            
            .logo-bright-large {
                font-size: 1.8rem;
                height: 35px;
            }
            
            .logo-photographer-center {
                font-size: 0.8rem;
            }
            
            .header-spacing {
                height: 100px;
            }
            
            .zoom-icon-image {
                width: 35px;
                height: 35px;
                padding: 7px;
            }
            
            .social-icons-footer {
                flex-wrap: wrap;
                gap: 8px;
                justify-content: center;
            }
            
            .social-icon-footer {
                font-size: 0.75rem;
                padding: 3px 6px;
            }
            
            .center-title, h2 {
                font-size: 1.4rem;
            }
            
            .studio-title {
                font-size: 1.1rem;
            }
            
            .gallery-section {
                padding: 12px;
            }
            
            .modal-nav {
                width: 35px;
                height: 35px;
                font-size: 18px;
                padding: 0;
            }
            
            .modal-prev {
                left: 15px;
            }
            
            .modal-next {
                right: 15px;
            }
            
            .close-modal {
                font-size: 25px;
                width: 35px;
                height: 35px;
                top: 10px;
                right: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Хэдер с логотипом по центру -->
    <div class="header-container">
        <!-- Логотип по центру -->
        <div class="logo-container-center">
            <div class="logo-bright-large">D|S</div>
            <div class="logo-photographer-center">photographer</div>
        </div>
    </div>
    
    <!-- Пустое пространство для расстояния -->
    <div class="header-spacing"></div>
    
    <!-- Кровавые капли -->
    <div class="blood-drip-top">
        <div class="drip"></div>
        <div class="drip"></div>
        <div class="drip"></div>
        <div class="drip"></div>
        <div class="drip"></div>
    </div>
    
    <!-- Кровавые пятна в углах -->
    <div class="blood-corner corner-tl"></div>
    <div class="blood-corner corner-tr"></div>
    <div class="blood-corner corner-bl"></div>
    <div class="blood-corner corner-br"></div>
    
    <!-- Основной логотип скрыт, так как у нас теперь маленький логотип в хэдере -->
    <div class="logo-container" style="display: none;">
        <div class="logo">D|S</div>
    </div>
    
    <div class="container">
        <!-- Истории (бывшая Галерея) -->
        <section id="gallery">
            <h2>Истории</h2>
            <p style="color: rgba(0, 0, 0, 0.7); margin-bottom: 20px; font-weight: 300;">Визуальные сказки, созданные с вдохновением от вашей энергии. Каждая фотография — отдельная история, наполненная атмосферой и эмоциями.</p>
            
            <div class="gallery-grid">
                <!-- Первый ряд -->
                <div class="gallery-item" data-image="img/ff45543e-9503-4b89-9ccb-a55e0e7329ef.jfif" data-alt="Фотография 1">
                    <img src="img/ff45543e-9503-4b89-9ccb-a55e0e7329ef.jfif" alt="Фотография 1" class="gallery-image">
                    <div class="zoom-overlay">
                        <img src="https://cdn3.iconfinder.com/data/icons/ui-actions-line/16/zoom-in-magnifying_glass-1024.png" alt="Увеличить" class="zoom-icon-image">
                    </div>
                </div>
                
                <div class="gallery-item" data-image="img/photo_2025-10-26_10-50-12.jpg" data-alt="Фотография 2">
                    <img src="img/photo_2025-10-26_10-50-12.jpg" alt="Фотография 2" class="gallery-image">
                    <div class="zoom-overlay">
                        <img src="https://cdn3.iconfinder.com/data/icons/ui-actions-line/16/zoom-in-magnifying_glass-1024.png" alt="Увеличить" class="zoom-icon-image">
                    </div>
                </div>
                
                <div class="gallery-item" data-image="img/photo_2025-10-26_10-50-13.jpg" data-alt="Фотография 3">
                    <img src="img/photo_2025-10-26_10-50-13.jpg" alt="Фотография 3" class="gallery-image">
                    <div class="zoom-overlay">
                        <img src="https://cdn3.iconfinder.com/data/icons/ui-actions-line/16/zoom-in-magnifying_glass-1024.png" alt="Увеличить" class="zoom-icon-image">
                    </div>
                </div>
                
                <!-- Второй ряд -->
                <div class="gallery-item" data-image="img/photo_2025-10-26_18-22-26.jpg" data-alt="Фотография 4">
                    <img src="img/photo_2025-10-26_18-22-26.jpg" alt="Фотография 4" class="gallery-image">
                    <div class="zoom-overlay">
                        <img src="https://cdn3.iconfinder.com/data/icons/ui-actions-line/16/zoom-in-magnifying_glass-1024.png" alt="Увеличить" class="zoom-icon-image">
                    </div>
                </div>
                
                <div class="gallery-item" data-image="img/photo_2025-11-04_14-13-23.jpg" data-alt="Фотография 5">
                    <img src="img/photo_2025-11-04_14-13-23.jpg" alt="Фотография 5" class="gallery-image">
                    <div class="zoom-overlay">
                        <img src="https://cdn3.iconfinder.com/data/icons/ui-actions-line/16/zoom-in-magnifying_glass-1024.png" alt="Увеличить" class="zoom-icon-image">
                    </div>
                </div>
                
                <div class="gallery-item" data-image="img/photo_2025-11-04_14-19-33.jpg" data-alt="Фотография 6">
                    <img src="img/photo_2025-11-04_14-19-33.jpg" alt="Фотография 6" class="gallery-image">
                    <div class="zoom-overlay">
                        <img src="https://cdn3.iconfinder.com/data/icons/ui-actions-line/16/zoom-in-magnifying_glass-1024.png" alt="Увеличить" class="zoom-icon-image">
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Разделительная линия между блоками -->
        <div class="section-divider"></div>
        
        <!-- Блок "Студийные фото" -->
        <section id="studio" class="gallery-section">
            <h2 class="center-title studio-title">Студийные фото</h2>
            
            <div class="gallery-grid">
                <div class="gallery-item" data-image="https://github.com/DianaSha2711/dsphotos/blob/main/img/photo_2025-12-18_09-13-27%20(2).jpg?raw=true" data-alt="Студийное фото 1">
                    <img src="https://github.com/DianaSha2711/dsphotos/blob/main/img/photo_2025-12-18_09-13-27%20(2).jpg?raw=true" alt="Студийное фото 1" class="gallery-image">
                    <div class="zoom-overlay">
                        <img src="https://cdn3.iconfinder.com/data/icons/ui-actions-line/16/zoom-in-magnifying_glass-1024.png" alt="Увеличить" class="zoom-icon-image">
                    </div>
                </div>
                
                <div class="gallery-item" data-image="https://github.com/DianaSha2711/dsphotos/blob/main/img/photo_2025-12-18_09-13-27.jpg?raw=true" data-alt="Студийное фото 2">
                    <img src="https://github.com/DianaSha2711/dsphotos/blob/main/img/photo_2025-12-18_09-13-27.jpg?raw=true" alt="Студийное фото 2" class="gallery-image">
                    <div class="zoom-overlay">
                        <img src="https://cdn3.iconfinder.com/data/icons/ui-actions-line/16/zoom-in-magnifying_glass-1024.png" alt="Увеличить" class="zoom-icon-image">
                    </div>
                </div>
                
                <div class="gallery-item" data-image="https://github.com/DianaSha2711/dsphotos/blob/main/img/photo_2025-12-18_09-13-28.jpg?raw=true" data-alt="Студийное фото 3">
                    <img src="https://github.com/DianaSha2711/dsphotos/blob/main/img/photo_2025-12-18_09-13-28.jpg?raw=true" alt="Студийное фото 3" class="gallery-image">
                    <div class="zoom-overlay">
                        <img src="https://cdn3.iconfinder.com/data/icons/ui-actions-line/16/zoom-in-magnifying_glass-1024.png" alt="Увеличить" class="zoom-icon-image">
                    </div>
                </div>
                
                <!-- НОВЫЕ СТУДИЙНЫЕ ФОТО -->
                <div class="gallery-item" data-image="https://github.com/DianaSha2711/dsphotos/blob/main/img/photo_2025-12-22_16-32-56.jpg?raw=true" data-alt="Студийное фото 4">
                    <img src="https://github.com/DianaSha2711/dsphotos/blob/main/img/photo_2025-12-22_16-32-56.jpg?raw=true" alt="Студийное фото 4" class="gallery-image">
                    <div class="zoom-overlay">
                        <img src="https://cdn3.iconfinder.com/data/icons/ui-actions-line/16/zoom-in-magnifying_glass-1024.png" alt="Увеличить" class="zoom-icon-image">
                    </div>
                </div>
                
                <div class="gallery-item" data-image="https://github.com/DianaSha2711/dsphotos/blob/main/img/photo_2025-12-22_16-32-57.jpg?raw=true" data-alt="Студийное фото 5">
                    <img src="https://github.com/DianaSha2711/dsphotos/blob/main/img/photo_2025-12-22_16-32-57.jpg?raw=true" alt="Студийное фото 5" class="gallery-image">
                    <div class="zoom-overlay">
                        <img src="https://cdn3.iconfinder.com/data/icons/ui-actions-line/16/zoom-in-magnifying_glass-1024.png" alt="Увеличить" class="zoom-icon-image">
                    </div>
                </div>
                
                <div class="gallery-item" data-image="https://github.com/DianaSha2711/dsphotos/blob/main/img/photo_2025-12-22_16-32-58.jpg?raw=true" data-alt="Студийное фото 6">
                    <img src="https://github.com/DianaSha2711/dsphotos/blob/main/img/photo_2025-12-22_16-32-58.jpg?raw=true" alt="Студийное фото 6" class="gallery-image">
                    <div class="zoom-overlay">
                        <img src="https://cdn3.iconfinder.com/data/icons/ui-actions-line/16/zoom-in-magnifying_glass-1024.png" alt="Увеличить" class="zoom-icon-image">
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Разделительная линия между блоками -->
        <div class="section-divider"></div>
        
        <!-- Блок "О себе" (без фотографии) -->
        <section id="about">
            <h2>О себе</h2>
            <div class="about-content">
                <div class="about-text">
                    <div class="greeting">Привет! Я Диана.</div>
                    
                    <div class="about-paragraph">
                        Люблю сказки и сама их снимаю.
                    </div>
                    
                    <div class="motto">
                        Мой девиз - <em>It's bigger on the inside</em>.
                    </div>
                    
                    <div class="quote">
                        По-этому Ваш внутренний мир - моё вдохновение и самые необычные Ваши идеи находят отклик в моих съёмках.
                    </div>
                    
                    <div class="collaboration">
                        Рассматриваю предложения о сотрудничестве в Санкт-Петербурге и Москве.
                    </div>
                    
                    <div class="directions-title">
                        С радостью приму участие в таких направлениях, как:
                    </div>
                    
                    <div class="directions-list-column">
                        <div class="direction-item-simple">индивидуальные проекты</div>
                        <div class="direction-item-simple">пары</div>
                        <div class="direction-item-simple">светская хроника</div>
                        <div class="direction-item-simple">фуд-фото</div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Длинная черная линия через весь экран -->
        <div class="full-line-divider"></div>
        
        <!-- Контакты с социальными иконками -->
        <section id="contacts">
            <div class="contact-info">
                <div class="contact-name">Диана Браво</div>
                <div class="contact-phone">+7 981 906-81-28</div>
                
                <!-- Социальные иконки добавлены сюда -->
                <div class="social-footer">
                    <div class="social-icons-footer">
                        <a href="https://vk.com/dbravo777" target="_blank" class="social-icon-footer" title="VK">VK</a>
                        <a href="https://www.instagram.com/d_bravo888?igsh=dGo4bXZyMGY0dzA3&utm_source=qr" target="_blank" class="social-icon-footer" title="Instagram">IG</a>
                        <a href="https://t.me/breakthrough1511" target="_blank" class="social-icon-footer" title="Telegram">TG</a>
                    </div>
                </div>
            </div>
        </section>
        
        <footer>
            <p>© 2023 D|S Portfolio. Создаем современные сказки вместе</p>
        </footer>
    </div>

    <!-- Модальное окно для полноразмерного просмотра -->
    <div class="modal-overlay" id="imageModal">
        <div class="modal-content">
            <button class="close-modal" id="closeModal">&times;</button>
            <img class="modal-image" id="modalImage" src="" alt="">
            <div class="image-counter" id="imageCounter"></div>
            <button class="modal-nav modal-prev" id="prevButton">❮</button>
            <button class="modal-nav modal-next" id="nextButton">❯</button>
        </div>
    </div>

    <!-- Встроенный JavaScript для увеличения фото -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Страница загружена, инициализируем галерею...');
            
            // Находим все элементы галереи
            const galleryItems = document.querySelectorAll('.gallery-item');
            console.log('Найдено элементов галереи:', galleryItems.length);
            
            // Находим элементы модального окна
            const modal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            const closeModalBtn = document.getElementById('closeModal');
            const prevBtn = document.getElementById('prevButton');
            const nextBtn = document.getElementById('nextButton');
            const imageCounter = document.getElementById('imageCounter');
            
            let currentImageIndex = 0;
            const allImages = [];
            
            // Собираем все изображения из галереи
            galleryItems.forEach((item, index) => {
                const imageData = {
                    src: item.getAttribute('data-image'),
                    alt: item.getAttribute('data-alt')
                };
                allImages.push(imageData);
                
                // Находим иконку лупы и overlay в этом элементе
                const zoomIcon = item.querySelector('.zoom-icon-image');
                const zoomOverlay = item.querySelector('.zoom-overlay');
                const galleryImage = item.querySelector('.gallery-image');
                
                // Добавляем обработчик клика на иконку лупы
                if (zoomIcon) {
                    zoomIcon.addEventListener('click', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        console.log('Клик по лупе на изображении', index + 1);
                        openModal(index);
                    });
                }
                
                // Добавляем обработчик клика на overlay
                if (zoomOverlay) {
                    zoomOverlay.addEventListener('click', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        console.log('Клик по overlay на изображении', index + 1);
                        openModal(index);
                    });
                }
                
                // Добавляем обработчик клика на само изображение
                if (galleryImage) {
                    galleryImage.addEventListener('click', function(e) {
                        // Проверяем, не был ли клик по лупе или overlay
                        if (!e.target.closest('.zoom-overlay') && !e.target.closest('.zoom-icon-image')) {
                            console.log('Клик по изображению', index + 1);
                            openModal(index);
                        }
                    });
                }
                
                // Добавляем обработчик ошибки загрузки изображения
                if (galleryImage) {
                    galleryImage.addEventListener('error', function() {
                        console.log('Ошибка загрузки изображения:', this.src);
                        // Заменяем на fallback изображение
                        const fallbackImages = [
                            'https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&h=600&q=80',
                            'https://images.unsplash.com/photo-1519058082700-08a0b56da9b4?ixlib=rb-4.0.3&auto=format&fit=crop&h=600&q=80',
                            'https://images.unsplash.com/photo-1526512340740-9217d0159da9?ixlib=rb-4.0.3&auto=format&fit=crop&h=600&q=80'
                        ];
                        const fallbackIndex = index % fallbackImages.length;
                        this.src = fallbackImages[fallbackIndex];
                        this.alt = 'Запасное изображение';
                        
                        // Обновляем data-атрибут
                        item.setAttribute('data-image', fallbackImages[fallbackIndex]);
                        allImages[index].src = fallbackImages[fallbackIndex];
                    });
                }
            });
            
            // Функция для открытия модального окна
            function openModal(index) {
                console.log('Открываем модальное окно для изображения', index + 1);
                
                if (index >= 0 && index < allImages.length) {
                    currentImageIndex = index;
                    const image = allImages[currentImageIndex];
                    
                    modalImage.src = image.src;
                    modalImage.alt = image.alt;
                    
                    // Обновляем счетчик
                    updateCounter();
                    
                    // Показываем модальное окно
                    modal.style.display = 'flex';
                    setTimeout(() => {
                        modal.style.opacity = '1';
                    }, 10);
                    
                    // Блокируем скролл страницы
                    document.body.style.overflow = 'hidden';
                    document.body.style.paddingRight = '15px'; // Для компенсации скроллбара
                } else {
                    console.error('Некорректный индекс изображения:', index);
                }
            }
            
            // Функция для закрытия модального окна
            function closeModal() {
                console.log('Закрываем модальное окно');
                
                modal.style.opacity = '0';
                setTimeout(() => {
                    modal.style.display = 'none';
                    
                    // Разблокируем скролл страницы
                    document.body.style.overflow = 'auto';
                    document.body.style.paddingRight = '';
                }, 300);
            }
            
            // Функция для обновления счетчика
            function updateCounter() {
                if (imageCounter) {
                    imageCounter.textContent = `${currentImageIndex + 1} / ${allImages.length}`;
                }
            }
            
            // Функция для навигации
            function navigate(direction) {
                currentImageIndex += direction;
                
                // Циклическая навигация
                if (currentImageIndex < 0) {
                    currentImageIndex = allImages.length - 1;
                } else if (currentImageIndex >= allImages.length) {
                    currentImageIndex = 0;
                }
                
                const image = allImages[currentImageIndex];
                modalImage.src = image.src;
                modalImage.alt = image.alt;
                updateCounter();
            }
            
            // Закрытие модального окна
            closeModalBtn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                closeModal();
            });
            
            // Закрытие при клике на overlay
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal();
                }
            });
            
            // Навигация
            prevBtn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                navigate(-1);
            });
            
            nextBtn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                navigate(1);
            });
            
            // Навигация с клавиатуры
            document.addEventListener('keydown', function(e) {
                if (modal.style.display === 'flex') {
                    switch(e.key) {
                        case 'Escape':
                            closeModal();
                            break;
                        case 'ArrowLeft':
                            navigate(-1);
                            break;
                        case 'ArrowRight':
                            navigate(1);
                            break;
                    }
                }
            });
            
            // Обработка ошибок загрузки изображений в модальном окне
            modalImage.addEventListener('error', function() {
                console.log('Ошибка загрузки изображения в модальном окне:', this.src);
                // Заменяем на fallback изображение
                const fallbackImages = [
                    'https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&h=800&q=80',